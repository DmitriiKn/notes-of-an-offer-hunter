# –§–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è legacy-–∫–æ–¥–∞: —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º

## üéØ –§–æ—Ä–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è legacy-–∫–æ–¥–∞ (RPI: Research Phase)

–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ legacy-–∫–æ–¥–∞ ‚Äî –Ω–µ –∏–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è, –∞ **—Å—Ç—Ä–æ–≥–∏–π –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å** —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏ –Ω–∞ –≤—ã—Ö–æ–¥–µ. –í–æ—Ç –ø–æ—à–∞–≥–æ–≤–∞—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –º–æ–Ω–æ–ª–∏—Ç–æ–≤.

### –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü –∏ —Ü–µ–ª–µ–π –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
**–í—Ö–æ–¥–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
- –ë–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ –∫—Ä–µ–¥–∏—Ç–Ω—É—é –∑–∞—è–≤–∫—É")
- –ö–∞—Ä—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã/–±–∞–≥–∏ –≤ —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏

**–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. –ö–∞–∫–∏–µ **–±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã** –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ?
2. –ö–∞–∫–∏–µ **–≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã** –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã (–ø–ª–∞—Ç–µ–∂–Ω—ã–µ —à–ª—é–∑—ã, –¶–ë)?
3. –ö–∞–∫–∏–µ **—Ä–µ–≥—É–ª—è—Ç–æ—Ä–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** (215-–ü, 242-–ü) –¥–æ–ª–∂–Ω—ã —Å–æ–±–ª—é–¥–∞—Ç—å—Å—è?

### –®–∞–≥ 2: –°–±–æ—Ä –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–±–µ–∑ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è –≤ –∫–æ–¥)
**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:**
```bash
# 1. –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π (Git)
git log --since="1 year" --grep="credit\|–∫—Ä–µ–¥–∏—Ç" --oneline
git blame src/main/java/com/bank/credit/CreditApplication.java

# 2. –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Maven/Gradle)
mvn dependency:tree -Dincludes=com.external
gradle dependencies --configuration runtimeClasspath

# 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
# –ü–æ–∏—Å–∫ –∫–ª—é—á–µ–≤—ã—Ö operation_id –≤ Kibana/Splunk:
# "CreditService.processApplication"
```

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç –Ω–∞ –≤—ã—Ö–æ–¥–µ:** –ö–∞—Ä—Ç–∞ –≤–ª–∏—è–Ω–∏—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º:
- –ú–æ–¥—É–ª–∏/—Å–µ—Ä–≤–∏—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã
- –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∏, API)
- –ö–æ–º–∞–Ω–¥—ã/—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, —Ä–∞–±–æ—Ç–∞–≤—à–∏–µ —Å –∫–æ–¥–æ–º

### –®–∞–≥ 3: –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ "—Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑"
**–¶–µ–ª—å:** –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Å–ª–æ–µ–≤ –∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

**–ú–µ—Ç–æ–¥—ã:**
1. **–ê–Ω–∞–ª–∏–∑ entry-points** (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, REST-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π)
2. **–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –≤—ã–∑–æ–≤–æ–≤** –æ—Ç —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –¥–æ –ë–î:
```java
// –ü—Ä–∏–º–µ—Ä: –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –ø—É—Ç–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∑–∞—è–≤–∫–∏
// 1. –ò—â–µ–º –≤—Å–µ @RestController, @RequestMapping
// 2. –ò—â–µ–º –≤—ã–∑–æ–≤—ã —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è
// 3. –ò—â–µ–º –≤—ã–∑–æ–≤—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤/DAO
// 4. –ò—â–µ–º SQL-–∑–∞–ø—Ä–æ—Å—ã –∏ –≤—ã–∑–æ–≤—ã —Ö—Ä–∞–Ω–∏–º—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä
```

### –®–∞–≥ 4: –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ "—Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö" (Bottom-Up Reading)
**–≠—Ç–æ —Å–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–ª–æ–∂–Ω–æ–≥–æ legacy-–∫–æ–¥–∞.**

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ù–∞—á–∏–Ω–∞–µ–º —Å –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –¥–µ—Ç–∞–ª–µ–π –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Å—Ç—Ä–æ–∏–º –º–µ–Ω—Ç–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å.

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏:**
1. **–ù–∞—á–Ω–∏—Ç–µ —Å –¥–∞–Ω–Ω—ã—Ö**: –ù–∞–π–¥–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –ë–î, DTO, –º–æ–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã
   ```java
   // –ò—â–∏—Ç–µ:
   // 1. @Entity, @Table –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
   // 2. –ö–ª–∞—Å—Å—ã –≤ –ø–∞–∫–µ—Ç–∞—Ö model, domain, dto
   // 3. SQL-–∑–∞–ø—Ä–æ—Å—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
   ```

2. **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ "—É–∑–∫–∏–µ –º–µ—Å—Ç–∞"**:
   - –°–ª–æ–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã (50+ —Å—Ç—Ä–æ–∫)
   - –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–ª–∞—Å—Å–∞–º–∏
   - –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

3. **–ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ –≤—ã–∑–æ–≤–æ–≤ –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**:
   ```bash
   # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
   # –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç—É—é —Ç–µ–∫—Å—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É:
   CreditController.createApplication()
     ‚Üí CreditService.validateAndSave()
       ‚Üí ScoringService.calculateScore()
       ‚Üí DocumentValidator.checkDocuments()
       ‚Üí CreditRepository.save()
         ‚Üí JPA/Hibernate ‚Üí DB Table "credit_applications"
   ```

4. **–í—ã—è–≤–∏—Ç–µ —Å–∫—Ä—ã—Ç—ã–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞**:
   - –ü–æ–∏—Å–∫ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª, –∫–æ–Ω—Å—Ç–∞–Ω—Ç, —É—Å–ª–æ–≤–∏–π –≤ –∫–æ–¥–µ
   - –ê–Ω–∞–ª–∏–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–æ—Å–æ–±–µ–Ω–Ω–æ TODO, FIXME, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è)

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞: –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

### 1. ArchUnit ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª
**–î–ª—è —á–µ–≥–æ:** –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π –≤ legacy.

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –±–∞–Ω–∫–∞:**
```java
// 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
layeredArchitecture()
    .layer("Controllers").definedBy("..controller..")
    .layer("Services").definedBy("..service..")
    .layer("Persistence").definedBy("..repository..")
    .whereLayer("Controllers").mayNotBeAccessedByAnyLayer()
    .whereLayer("Services").mayOnlyBeAccessedByLayers("Controllers")
    .whereLayer("Persistence").mayOnlyBeAccessedByLayers("Services");

// 2. –ó–∞–ø—Ä–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
slices().matching("com.bank.(*)..").should().beFreeOfCycles();

// 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
classes().that().haveSimpleNameEndingWith("Repository")
    .should().resideInAPackage("..repository..");

// 4. –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–∞–Ω–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç–∏
classes().that().haveSimpleNameEndingWith("Service")
    .and().areAnnotatedWith("@Service")
    .should().beAnnotatedWith("@Transactional");
```

### 2. SonarQube ‚Äî –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –ø–æ–∏—Å–∫ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è legacy-–∞–Ω–∞–ª–∏–∑–∞:**

| –ú–µ—Ç—Ä–∏–∫–∞ | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ä–æ–≥ | –î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ |
|---------|-------------------|-------------------------|
| **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥** | > 5 –¥–Ω–µ–π –Ω–∞ –º–æ–¥—É–ª—å | –ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ |
| **–¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å** | > 15 –Ω–∞ –º–µ—Ç–æ–¥ | –í—ã–¥–µ–ª–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥/–∫–ª–∞—Å—Å |
| **–ö–æ–ø–∏–ø–∞—Å—Ç–∞ (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)** | > 10% –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã | –í—ã–Ω–µ—Å—Ç–∏ –≤ —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –∫–ª–∞—Å—Å—ã |
| **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏** | < 80% –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ | –ù–∞–ø–∏—Å–∞—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º |

**–û—Å–æ–±—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ –∫–æ–¥–∞:**
1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏, XSS, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: N+1 –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î, –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö

### 3. JaCoCo ‚Äî –∞–Ω–∞–ª–∏–∑ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏
**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è legacy-–∫–æ–¥–∞:**
```yaml
# 1. –°—Ñ–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥—É–ª—è—Ö
jacoco:
  coverage:
    includes:
      - "**/service/**"      # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
      - "**/domain/**"       # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
      - "**/payment/**"      # –ü–ª–∞—Ç–µ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    excludes:
      - "**/dto/**"          # DTO –æ–±—ã—á–Ω–æ –ø—Ä–æ—Å—Ç—ã–µ
      - "**/config/**"       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

**–ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π:**
- –ï—Å–ª–∏ –ø–æ–∫—Ä—ã—Ç–∏–µ < 30% ‚Üí **–¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏**
- –ï—Å–ª–∏ –ø–æ–∫—Ä—ã—Ç–∏–µ 30-70% ‚Üí **–ú–æ–∂–Ω–æ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–æ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é**
- –ï—Å–ª–∏ –ø–æ–∫—Ä—ã—Ç–∏–µ > 70% ‚Üí **–ú–æ–∂–Ω–æ —É–≤–µ—Ä–µ–Ω–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å**

## üìã –ß–µ–∫-–ª–∏—Å—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è legacy-–º–æ–¥—É–ª—è

**–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —É –≤–∞—Å –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:**

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
1. [ ] **–ö–∞—Ä—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** –º–æ–¥—É–ª—è (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏ –≤–Ω–µ—à–Ω–∏–µ)
2. [ ] **–°—Ö–µ–º–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö** (–º–∏–Ω–∏–º—É–º 3 –∫–ª—é—á–µ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è)
3. [ ] **–°–ø–∏—Å–æ–∫ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª**, –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –∏–∑ –∫–æ–¥–∞
4. [ ] **–¢–∞–±–ª–∏—Ü–∞ —Ä–∏—Å–∫–æ–≤** (—á—Ç–æ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:
1. [ ] **–û—Ç—á–µ—Ç ArchUnit** –æ –Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
2. [ ] **–û—Ç—á–µ—Ç SonarQube** —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º–∏ issues
3. [ ] **–û—Ç—á–µ—Ç JaCoCo** –ø–æ –ø–æ–∫—Ä—ã—Ç–∏—é –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤
4. [ ] **–ì—Ä–∞—Ñ –≤—ã–∑–æ–≤–æ–≤** –¥–ª—è –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º—ã—Ö –º–µ—Ç–æ–¥–æ–≤

### –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
1. [ ] **–†–µ–≥—É–ª—è—Ç–æ—Ä–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**, –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ –∫–æ–¥–æ–º
2. [ ] **–ò—Å—Ç–æ—Ä–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤** –≤ —ç—Ç–æ–º –º–æ–¥—É–ª–µ (–ø–æ Jira/ServiceNow)
3. [ ] **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–∂–æ–±–æ–≤/–±–∞—Ç—á–µ–π**, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –º–æ–¥—É–ª–µ–º
4. [ ] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏** –∏ –∏—Ö SLA

## üöÄ –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–±–æ—Ç—ã —Å legacy –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –ü—Ä–∞–≤–∏–ª–æ 1: "–¢—Ä–æ–π–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ"
–õ—é–±–æ–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ —Ä–∞–±–æ—Ç–µ legacy-–∫–æ–¥–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ **—Ç—Ä–µ–º—è —Å–ø–æ—Å–æ–±–∞–º–∏**:
1. **–ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞** (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑)
2. **–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤** (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
3. **–û–±—Å—É–∂–¥–µ–Ω–∏–µ —Å –∫–æ–º–∞–Ω–¥–æ–π** (–∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∏—Å—Ç–æ—Ä–∏—è)

### –ü—Ä–∞–≤–∏–ª–æ 2: "–ò–∑–º–µ–Ω—è–π —Ç–æ–ª—å–∫–æ –ø–æ–¥ –∑–∞—â–∏—Ç–æ–π —Ç–µ—Å—Ç–æ–≤"
```java
// –ü—Ä–µ–∂–¥–µ —á–µ–º –º–µ–Ω—è—Ç—å legacy-–º–µ—Ç–æ–¥:
// 1. –ù–∞–ø–∏—à–∏—Ç–µ characterization test (—Ç–µ—Å—Ç-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞)
@Test
public void testLegacyCreditCalculation() {
    // –¶–µ–ª—å: –Ω–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å, –∞ –ó–ê–§–ò–ö–°–ò–†–û–í–ê–¢–¨ —Ç–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
    double result = legacyCalculator.calculate(100000, 12);
    // –§–∏–∫—Å–∏—Ä—É–µ–º —Ç–µ–∫—É—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –∫–∞–∂–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º)
    assertThat(result).isEqualTo(10864.52); 
    // –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å - —Ç–µ—Å—Ç –ø–æ–∫–∞–∂–µ—Ç, –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ª–∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
}
```

### –ü—Ä–∞–≤–∏–ª–æ 3: "–ö–∞—Ä—Ç–∏—Ä—É–π –ø–µ—Ä–µ–¥ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ–º"
–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —á–∏—Ç–∞—Ç—å –∫–æ–¥ "–ø—Ä–æ—Å—Ç–æ —Ç–∞–∫". –í—Å–µ–≥–¥–∞ –∏–º–µ–π—Ç–µ **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ü–µ–ª—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è** –∏ **–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**.

## üí° –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —á—Ç–µ–Ω–∏—è legacy-–∫–æ–¥–∞

### –ú–µ—Ç–æ–¥ "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ —Å–∏–º–ø—Ç–æ–º–∞–º"
1. **–ù–∞–π–¥–∏—Ç–µ —Å–∞–º—ã–π —á–∞—Å—Ç—ã–π –±–∞–≥/–∏–Ω—Ü–∏–¥–µ–Ω—Ç** –≤ –º–æ–¥—É–ª–µ
2. **–ü—Ä–æ—Å–ª–µ–¥–∏—Ç–µ –µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –≤ –∏—Å—Ç–æ—Ä–∏–∏ Git
3. **–ü–æ–π–º–∏—Ç–µ root cause** ‚Äî —ç—Ç–æ –ø–æ–∫–∞–∂–µ—Ç —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –ú–µ—Ç–æ–¥ "–¢–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è"
1. –ò—â–∏—Ç–µ –≤ –∫–æ–¥–µ: `TODO`, `FIXME`, `HACK`, `// –≤—Ä–µ–º–µ–Ω–Ω–æ`
2. –ò—â–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: `.properties`, `.yml` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
3. –ò—â–∏—Ç–µ —Ñ–∞–±—Ä–∏–∫–∏, —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –ø–ª–∞–≥–∏–Ω—ã ‚Äî —Ç–æ—á–∫–∏ –ø—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –ú–µ—Ç–æ–¥ "–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö"
1. –ò–∑—É—á–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (Liquibase/Flyway)
2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ, –∫–∞–∫ –º–µ–Ω—è–ª–∞—Å—å –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
3. –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç —ç–≤–æ–ª—é—Ü–∏—é –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

## üéØ –í—ã–≤–æ–¥—ã –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**Legacy-–∫–æ–¥ –≤ –±–∞–Ω–∫–µ ‚Äî —ç—Ç–æ –Ω–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥, –∞ –∞–∫—Ç–∏–≤**, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:
1. **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ç–æ—Ä–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** (–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ª—å–∑—è –Ω–∞—Ä—É—à–∏—Ç—å)
2. **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—É—é –≥–æ–¥–∞–º–∏** (–∏ –º–∏–ª–ª–∏–∞—Ä–¥–∞–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏** (—á–∞—Å—Ç–æ –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

**–í–∞—à–∞ —Ü–µ–ª—å –∫–∞–∫ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è:** –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–Ω—è—Ç—å "–∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç", –∞ –≤—ã—è–≤–∏—Ç—å **—Å–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Ä–∏—Å–∫–∏**, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫:
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–º –ø–æ—Ç–µ—Ä—è–º (–æ—à–∏–±–∫–∏ –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö)
- –†–µ–≥—É–ª—è—Ç–æ—Ä–Ω—ã–º —à—Ç—Ä–∞—Ñ–∞–º (–Ω–∞—Ä—É—à–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –¶–ë)
- –ü—Ä–æ—Å—Ç–æ—è–º —Å–∏—Å—Ç–µ–º (–∫–∞—Å–∫–∞–¥–Ω—ã–µ –æ—Ç–∫–∞–∑—ã)

**–°–ª–µ–¥—É—é—â–∏–π –ª–æ–≥–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å –ø–æ—Å–ª–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:** "–ö–∞–∫ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–º—Ç (–ø–ª–∞–Ω) –¥–ª—è –ò–ò –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ legacy-–º–µ—Ç–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –º–µ–Ω—è–µ—Ç –±–∞–ª–∞–Ω—Å —Å—á–µ—Ç–∞? –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –≤—Ö–æ–¥–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, edge-cases, —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤?"

–≠—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å –ø–µ—Ä–µ–≤–µ–¥–µ—Ç –≤–∞—Å –æ—Ç —Ñ–∞–∑—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫ —Ñ–∞–∑–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Äî —Å–∞–º–æ–π –∫—Ä–∏—Ç–∏—á–Ω–æ–π –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å legacy –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å—Ñ–µ—Ä–µ.